<% content_for :title, "Redirects|Admin" %>

<div class="admin-redirects">
  <div class="admin-toolbar">
    <%= link_to new_admin_redirect_path, class: "btn btn-primary" do %>
      <i class="fas fa-plus"></i> New Redirect
    <% end %>
  </div>

  <div class="table-container">
    <table class="admin-table">
      <thead>
        <tr>
          <th class="col-regex"><i class="fas fa-code"></i> Regex Pattern</th>
          <th class="col-replacement"><i class="fas fa-link"></i> Replacement</th>
          <th class="col-type"><i class="fas fa-exchange-alt"></i> Type</th>
          <th class="col-status"><i class="fas fa-toggle-on"></i> Status</th>
          <th class="col-actions">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% if @redirects && @redirects.any? %>
          <% @redirects.each do |redirect| %>
            <tr>
              <td class="col-regex">
                <code class="regex-code"><%= redirect.regex %></code>
              </td>
              <td class="col-replacement">
                <code class="replacement-code"><%= redirect.replacement %></code>
              </td>
              <td class="col-type">
                <span class="type-badge <%= redirect.permanent? ? 'type-permanent' : 'type-temporary' %>">
                  <%= redirect.permanent? ? '301 Permanent' : '302 Temporary' %>
                </span>
              </td>
              <td class="col-status">
                <span class="status-badge <%= redirect.enabled? ? 'status-enabled' : 'status-disabled' %>">
                  <%= redirect.enabled? ? 'Enabled' : 'Disabled' %>
                </span>
              </td>
              <td class="col-actions">
                <div class="action-buttons">
                  <%= link_to edit_admin_redirect_path(redirect), class: "action-btn edit-btn", title: "Edit" do %>
                    <i class="fas fa-edit"></i>
                  <% end %>
                  <%= link_to admin_redirect_path(redirect), class: "action-btn delete-btn", title: "Delete",
                        data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } do %>
                    <i class="fas fa-trash"></i>
                  <% end %>
                </div>
              </td>
            </tr>
          <% end %>
        <% else %>
          <tr>
            <td colspan="5" class="no-content-row">
              <i class="fas fa-inbox"></i>
              <p>No redirects found.</p>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
