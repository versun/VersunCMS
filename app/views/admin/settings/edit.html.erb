<%= form_with(model: @setting, url: admin_setting_path) do |form| %>
  <% if @setting.errors.any? %>
    <div class="form-errors">
      <strong><%= pluralize(@setting.errors.count, "error") %> prohibited this setting from being saved:</strong>
      <ul>
        <% @setting.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-section">
    <h3>Site Information</h3>

    <div class="field">
      <%= form.label :title, "Site Title" %>
      <%= form.text_field :title %>
    </div>

    <div class="field">
      <%= form.label :description, "Site Description" %>
      <%= form.text_field :description %>
    </div>

    <div class="field">
      <%= form.label :author %>
      <%= form.text_field :author %>
    </div>

    <div class="field">
      <%= form.label :url, "Site URL" %>
      <%= form.text_field :url %>
    </div>

    <div class="field">
      <%= form.label :time_zone, "Timezone" %>
      <%= form.select :time_zone,
                   timezone_options,
                   { selected: @setting.time_zone || "UTC" } %>
    </div>
  </div>

  <div class="form-section">
    <h3>Custom Code</h3>

    <div class="field">
      <%= form.label :head_code, "Head Code" %>
      <%= form.text_area :head_code %>
      <small>HTML code to insert in the &lt;head&gt; section</small>
    </div>

    <div class="field">
      <%= form.label :giscus, "Giscus Code" %>
      <%= form.text_area :giscus %>
      <small>Giscus comment system configuration</small>
    </div>

    <div class="field">
      <%= form.label :tool_code, "Tool Code" %>
      <%= form.text_area :tool_code %>
      <small>Additional tool scripts or tracking codes</small>
    </div>
  </div>

  <div class="form-section">
    <h3>Styling</h3>

    <div class="field">
      <%= form.label :custom_css, "Custom CSS" %>
      <%= form.text_area :custom_css %>
      <small>Custom CSS styles for your site</small>
    </div>
  </div>

  <div class="form-section">
    <h3>Footer</h3>

    <div class="field">
      <%= form.label :footer %>
      <%= form.text_area :footer,
          class: "tinymce-editor",
          value: @setting.footer.to_s %>
    </div>
  </div>

  <div class="form-section">
    <%= render 'admin/settings/form_social_links', form: form %>
  </div>

  <div class="form-actions">
    <%= form.submit 'Save' %>
  </div>
<% end %>