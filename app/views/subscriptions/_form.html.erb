<%= form_with url: subscriptions_path, local: true, class: "newsletter-subscription-form" do |form| %>
  <div class="field">
    <%= form.email_field :email, name: "subscription[email]", placeholder: "输入您的邮箱地址", required: true, class: "newsletter-email-input" %>
  </div>
  
  <% if Tag.any? %>
    <div class="field">
      <label class="subscription-tags-label">订阅内容（可选，不选择则订阅所有内容）：</label>
      <div class="subscription-tags-container">
        <% Tag.alphabetical.each do |tag| %>
          <div class="subscription-tag-item">
            <%= check_box_tag "subscription[tag_ids][]", tag.id, false, id: "subscription_tag_ids_#{tag.id}", class: "subscription-tag-checkbox" %>
            <%= label_tag "subscription_tag_ids_#{tag.id}", tag.name, class: "subscription-tag-label" %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
  
  <%= form.submit "订阅", class: "newsletter-submit-btn" %>
<% end %>

