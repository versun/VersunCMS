<% content_for :title do %>
  <%= @tag.name %> | <%= site_settings[:title] %>
<% end %>

<% content_for :head do %>
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for <%= @tag.name %>" href="/tags/<%= @tag.slug %>.rss">
<% end %>

<div style="max-width: 800px; margin: 0 auto; padding: 2rem 1rem;">
  <div style="margin-bottom: 1rem;">
    <a href="/tags/" style="color: #666; text-decoration: none; font-size: 0.9rem;">← All Tags</a>
  </div>

  <h2>Articles tagged with "<%= @tag.name %>"</h2>
  <div style="color: #666; margin-bottom: 2rem;">
    <div style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 0.5rem;">
      <span style="display: flex; align-items: center; gap: 0.5rem;">
        <%= @articles.total_entries %> <%= @articles.total_entries == 1 ? 'article' : 'articles' %> found
        <span style="margin: 0 0.5rem;">·</span>
        <a href="/tags/<%= @tag.slug %>.rss" style="color: #666; text-decoration: underline;">RSS</a>
      </span>
    </div>
  </div>

  <% if @articles.any? %>
    <%= render 'articles/static_article_list', articles: @articles %>
    
    <% if @articles.total_pages > 1 %>
    <div class="pagination">
      <% if @articles.current_page > 1 %>
        <a href="/tags/<%= @tag.slug %>/page/<%= @articles.current_page - 1 %>.html" class="prev_page">&laquo; Previous</a>
      <% end %>
      
      <% (1..@articles.total_pages).each do |page| %>
        <% if page == @articles.current_page %>
          <span class="current"><%= page %></span>
        <% else %>
          <a href="/tags/<%= @tag.slug %>/page/<%= page %>.html"><%= page %></a>
        <% end %>
      <% end %>
      
      <% if @articles.current_page < @articles.total_pages %>
        <a href="/tags/<%= @tag.slug %>/page/<%= @articles.current_page + 1 %>.html" class="next_page">Next &raquo;</a>
      <% end %>
    </div>
    <% end %>
  <% else %>
    <p style="color: #999;">No published articles with this tag.</p>
  <% end %>
</div>

